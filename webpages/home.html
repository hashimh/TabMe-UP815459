<!DOCTYPE html>
<title>Guitar Tab Creator</title>

<!-- <script src="https://apis.google.com/js/platform.js" async defer></script> -->
<!-- <meta
  name="google-signin-client_id"
  content="566769051678-k1mpvtssd5jin7p6bekdtv7g1r23qav4.apps.googleusercontent.com"
/> -->
<link rel="stylesheet" type="text/css" href="./css/home.css" />
<script src="./js/index.js"></script>
<link
  rel="stylesheet"
  type="text/css"
  href="//fonts.googleapis.com/css?family=Raleway"
/>
<link
  rel="stylesheet"
  href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
/>

<head>
  <!-- <meta
    name="google-site-verification"
    content="d7h_fP3cHteL9VvmQt7nxwPwfp0SDtzvuB_WTOnGGfM"
  /> -->
</head>

<script src="./js/index.js"></script>

<main>
  <div id="griddiv" class="grid-container">
    <div id="loginbox" class="item1">
      <div class="loginInfo">
        <div class="login-wrap">
          <div class="login-html">
            <input
              id="tab-1"
              type="radio"
              name="tab"
              class="sign-in"
              onclick="moveText2()"
              checked
            />
            <label for="tab-1" class="tab">log in</label>
            <input
              id="tab-2"
              type="radio"
              name="tab"
              class="sign-up"
              onclick="moveText();"
            /><label for="tab-2" class="tab">sign up</label>

            <div class="login-form">
              <div class="sign-in-htm">
                <div class="group">
                  <input
                    id="login-user"
                    type="text"
                    class="input"
                    placeholder="username"
                  />
                </div>

                <div class="group">
                  <input
                    id="login-pass"
                    type="password"
                    class="input"
                    data-type="password"
                    placeholder="password"
                  />
                </div>

                <div class="group">
                  <input id="check" type="checkbox" class="check" checked />
                  <label for="check"
                    ><span class="icon"></span>keep me signed in</label
                  >
                </div>

                <div class="group">
                  <input type="submit" class="button" value="sign in" />
                </div>

                <div class="foot-lnk">
                  <a href="#forgot">forgot password?</a>
                </div>
              </div>

              <div class="sign-up-htm">
                <div class="group">
                  <input
                    id="signup-username"
                    type="text"
                    class="input"
                    placeholder="username"
                  />
                </div>
                <div class="group">
                  <input
                    id="signup-pass"
                    type="password"
                    class="input"
                    data-type="password"
                    placeholder="password"
                  />
                </div>
                <div class="group">
                  <input
                    id="signup-pass2"
                    type="password"
                    class="input"
                    data-type="password"
                    placeholder="repeat password"
                  />
                </div>
                <div class="group">
                  <input
                    id="signup-email"
                    type="text"
                    class="input"
                    placeholder="email address"
                  />
                </div>
                <div class="group">
                  <input type="submit" class="button" value="sign up" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="login-text" id="moveable-text">
        <p>
          sign in for full access to the app, including ability to upload
          tablatures.
        </p>
        <button onClick="createTabBtn();">
          create a tablature
        </button>
      </div>
    </div>

    <div id="logintext" class="item2">
      <div class="main-header">
        <h2 class="heading">A Guitar Tablature Creator</h2>
      </div>

      <!-- will be initially on display, will be replaced by tab-container on a div click -->
      <div class="main-container" id="main-container-id">
        <ul class="view-navbar">
          <li>
            <input type="text" placeholder="Search..." class="search-bar" />
          </li>

          <ul class="sort-by" style="float: right;">
            <li>
              <p>sort by :</p>
            </li>
            <li>
              <div class="custom-select" style="width: 200px;">
                <select>
                  <option value="0">most recent</option>
                  <option value="1">name a-z</option>
                  <option value="2">name z-a</option>
                  <option value="3">artist a-z</option>
                  <option value="4">artist z-a</option>
                </select>
              </div>
            </li>
          </ul>

          <ul class="select-genre" style="float: right;">
            <li><p>genre :</p></li>
            <li>
              <div class="custom-select" style="width: 200px;">
                <select>
                  <option value="0">all genres</option>
                  <option value="1">psychadelic rock</option>
                </select>
              </div>
            </li>
          </ul>
        </ul>
        <div class="view-contents" id="view-contents-id">
          <div class="loader">loading...</div>
          <!-- tab content here, to be loaded by DOM -->
        </div>
      </div>

      <!-- only shown when a tab is clicked to view -->
      <div class="tab-container" id="tab-container-id">
        <div class="tab-info-playback">
          <div class="tab-info">
            <p id="tab-info-1"></p>
            <p id="tab-info-2"></p>
          </div>
          <div class="tab-playback">
            <!-- playback option buttons -->
          </div>
          <div class="close-tab-btn">
            <button onclick="closeTab()">go back</button>
          </div>
        </div>
        <div class="tab-content" id="tab-content-id">
          <div class="loader">loading...</div>
          <!-- content to be filled by DOM -->
        </div>
      </div>
    </div>
  </div>
</main>

<script>
  var x, i, j, selElmnt, a, b, c;
  /*look for any elements with the class "custom-select":*/
  x = document.getElementsByClassName("custom-select");
  for (i = 0; i < x.length; i++) {
    selElmnt = x[i].getElementsByTagName("select")[0];
    /*for each element, create a new DIV that will act as the selected item:*/
    a = document.createElement("DIV");
    a.setAttribute("class", "select-selected");
    a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
    x[i].appendChild(a);
    /*for each element, create a new DIV that will contain the option list:*/
    b = document.createElement("DIV");
    b.setAttribute("class", "select-items select-hide");
    for (j = 0; j < selElmnt.length; j++) {
      /*for each option in the original select element,
    create a new DIV that will act as an option item:*/
      c = document.createElement("DIV");
      c.innerHTML = selElmnt.options[j].innerHTML;
      c.addEventListener("click", function (e) {
        /*when an item is clicked, update the original select box,
        and the selected item:*/
        var y, i, k, s, h;
        s = this.parentNode.parentNode.getElementsByTagName("select")[0];
        h = this.parentNode.previousSibling;
        for (i = 0; i < s.length; i++) {
          if (s.options[i].innerHTML == this.innerHTML) {
            s.selectedIndex = i;
            h.innerHTML = this.innerHTML;
            y = this.parentNode.getElementsByClassName("same-as-selected");
            for (k = 0; k < y.length; k++) {
              y[k].removeAttribute("class");
            }
            this.setAttribute("class", "same-as-selected");
            break;
          }
        }
        h.click();
      });
      b.appendChild(c);
    }
    x[i].appendChild(b);
    a.addEventListener("click", function (e) {
      /*when the select box is clicked, close any other select boxes,
      and open/close the current select box:*/
      e.stopPropagation();
      closeAllSelect(this);
      this.nextSibling.classList.toggle("select-hide");
      this.classList.toggle("select-arrow-active");
    });
  }
  function closeAllSelect(elmnt) {
    /*a function that will close all select boxes in the document,
  except the current select box:*/
    var x,
      y,
      i,
      arrNo = [];
    x = document.getElementsByClassName("select-items");
    y = document.getElementsByClassName("select-selected");
    for (i = 0; i < y.length; i++) {
      if (elmnt == y[i]) {
        arrNo.push(i);
      } else {
        y[i].classList.remove("select-arrow-active");
      }
    }
    for (i = 0; i < x.length; i++) {
      if (arrNo.indexOf(i)) {
        x[i].classList.add("select-hide");
      }
    }
  }
  /*if the user clicks anywhere outside the select box,
then close all select boxes:*/
  document.addEventListener("click", closeAllSelect);
</script>
